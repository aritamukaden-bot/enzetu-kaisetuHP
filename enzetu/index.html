<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>日本の政治を演説から知ろう</title>

  <link rel="stylesheet" href="assets/css/sanitize.css">
  <link rel="stylesheet" href="assets/css/home.css">
</head>
<body>

<header class="site-header">
  <div class="container">
    <h1 class="site-title">日本の政治を演説から知ろう</h1>
    <p class="site-sub">ニュースや演説の「難しい言葉」を、メモと詳細解説で理解する</p>
  </div>
</header>

<main class="container">

  <!-- 🔍 検索セクション -->
  <section class="search-section" aria-label="サイト内メニュー検索">
    <label for="searchInput" class="search-label">キーワードで探す</label>
    <input type="text" id="searchInput" placeholder="例：税制、防災、CPTPP、所信表明 など">
    <p class="search-note">※ 下の「使い方／日本／世界」の項目がリアルタイムに絞り込まれます。</p>
  </section>

  <!-- 使い方 -->
  <h2 class="section-title">使い方</h2>
  <nav class="list-nav list--indent" data-scope="howto">
    <a class="list-item" href="pages/howto.html">
      <span class="item-title">使い方ガイド</span>
      <span class="item-desc">
        本文の語句が黄色にハイライト → ホバー/タップでメモ → クリックで詳細解説へ進む流れを短く紹介
      </span>
    </a>
  </nav>

  <!-- 解説（日本・世界） -->
  <h2 class="section-title section-title--spaced">解説はここから</h2>
  <nav class="list-nav list--indent" data-scope="topics">
    <a class="list-item" href="pages/japan.html">
      <span class="item-title">日本</span>
      <span class="item-desc">所信表明演説・税制・防災・経済など国内の主要トピックを読み解く入口</span>
    </a>
    <a class="list-item" href="pages/world.html">
      <span class="item-title">世界</span>
      <span class="item-desc">国際協定・安全保障・各国政策などグローバルな文脈の解説へ</span>
    </a>
  </nav>

  <!-- 該当なし表示（JSで制御） -->
  <p id="noResult" class="no-result" hidden>該当する項目がありません。</p>

</main>

<footer class="site-footer">
  <div class="container">© 2025 Learn Japan Project</div>
</footer>

<!-- 🔧 検索スクリプト（軽量・ページ内絞り込み） -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const input = document.getElementById('searchInput');
  const lists = Array.from(document.querySelectorAll('.list-nav'));
  const items = Array.from(document.querySelectorAll('.list-nav .list-item'));
  const noResult = document.getElementById('noResult');

  function applyFilter(q){
    const kw = q.trim().toLowerCase();
    let visibleCount = 0;

    // まず全項目を判定
    items.forEach(a => {
      const text = a.textContent.toLowerCase();
      const hit = !kw || text.includes(kw);
      a.style.display = hit ? 'block' : 'none';
      if (hit) visibleCount++;
    });

    // 見出しごとに「空のリスト」を隠したりはしない（段落感キープ）
    // 代わりに全体で0件ならメッセージを出す
    noResult.hidden = (visibleCount !== 0);
  }

  input.addEventListener('input', () => applyFilter(input.value));
});
</script>

</body>
</html>
